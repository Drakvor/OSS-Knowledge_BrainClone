openapi: 3.1.0
info:
  title: OSS Knowledge Backend API
  description: OSS ì§€ì‹ ê´€ë¦¬ ì‹œìŠ¤í…œì˜ ë°±ì—”ë“œ API ì„œë²„ì…ë‹ˆë‹¤. RAG(Retrieval-Augmented Generation) ê¸°ë°˜ì˜ ì§€ì‹ ê²€ìƒ‰ ë° ëŒ€í™” ê´€ë¦¬ ê¸°ëŠ¥ì„ ì œê³µí•©ë‹ˆë‹¤.
  version: 1.0.0
  contact:
    name: OSS Knowledge Team
    email: oss-knowledge@example.com
servers:
  - url: http://localhost:8080
    description: Local development server
  - url: https://api.oss-knowledge.com
    description: Production server
components:
  securitySchemes:
    BearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
  parameters:
    X-Request-Id:
      name: X-Request-Id
      in: header
      required: false
      schema:
        type: string
      description: ìš”ì²­ ì¶”ì  ID
  schemas:
    ErrorResponse:
      type: object
      required: [code, message]
      properties:
        code:
          type: string
          example: E400
        message:
          type: string
          example: Invalid request
    ChatSession:
      type: object
      required: [id, title, llmModel, status, createdAt, updatedAt]
      properties:
        id:
          type: string
          format: uuid
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440000
        userId:
          type: integer
          format: int64
          description: User ID
          example: 1
        title:
          type: string
          description: Session title
          example: "ìƒˆ ëŒ€í™”"
        departmentId:
          type: integer
          format: int64
          description: Department ID
          example: 1
        agentId:
          type: string
          description: Agent ID
          example: "01HZX4N3ABCD1234567XYZ893"
        llmModel:
          type: string
          description: LLM model
          example: "gpt-4o"
        status:
          type: string
          description: Session status
          example: "active"
        metadata:
          type: object
          description: Session metadata
          example: {"statistics": {"messageCount": 10}}
        createdAt:
          type: string
          format: date-time
          example: 2024-04-01T12:00:00Z
        updatedAt:
          type: string
          format: date-time
          example: 2024-04-01T12:00:00Z
        deletedAt:
          type: string
          format: date-time
          nullable: true
          example: null
    ChatMessage:
      type: object
      required: [id, sessionId, messageType, content, createdAt, updatedAt]
      properties:
        id:
          type: string
          format: uuid
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440001
        sessionId:
          type: string
          format: uuid
          description: Session UUID
          example: 550e8400-e29b-41d4-a716-446655440000
        messageType:
          type: string
          description: Message type
          enum: [user, assistant, system]
          example: "user"
        content:
          type: string
          description: Message content
          example: "ì•ˆë…•í•˜ì„¸ìš”!"
        metadata:
          type: object
          description: Message metadata
          example: {"searchResults": [], "processingTime": 1.5}
        parentMessageId:
          type: string
          format: uuid
          description: Parent message UUID
          nullable: true
          example: null
        createdAt:
          type: string
          format: date-time
          example: 2024-04-01T12:00:00Z
        updatedAt:
          type: string
          format: date-time
          example: 2024-04-01T12:00:00Z
        deletedAt:
          type: string
          format: date-time
          nullable: true
          example: null
    ChatMessageFeedback:
      type: object
      required: [id, messageId, rating, feedbackType, isAnonymous, createdAt, updatedAt]
      properties:
        id:
          type: string
          format: uuid
          description: UUID
          example: 550e8400-e29b-41d4-a716-446655440002
        messageId:
          type: string
          format: uuid
          description: Message UUID
          example: 550e8400-e29b-41d4-a716-446655440001
        userId:
          type: integer
          format: int64
          description: User ID
          nullable: true
          example: 1
        rating:
          type: integer
          minimum: 1
          maximum: 5
          description: Rating (1-5)
          example: 5
        comment:
          type: string
          description: User comment
          nullable: true
          example: "ë§¤ìš° ë„ì›€ì´ ë˜ì—ˆìŠµë‹ˆë‹¤!"
        feedbackType:
          type: string
          description: Feedback type
          enum: [general, accuracy, helpfulness, clarity]
          example: "general"
        isAnonymous:
          type: boolean
          description: Anonymous feedback
          example: true
        metadata:
          type: object
          description: Feedback metadata
          example: {"source": "web"}
        createdAt:
          type: string
          format: date-time
          example: 2024-04-01T12:00:00Z
        updatedAt:
          type: string
          format: date-time
          example: 2024-04-01T12:00:00Z
        deletedAt:
          type: string
          format: date-time
          nullable: true
          example: null
    User:
      type: object
      required: [id, username, password, role, status, createdAt, updatedAt]
      properties:
        id:
          type: integer
          format: int64
          description: User ID
          example: 1
        username:
          type: string
          description: Username
          example: "oss"
        password:
          type: string
          description: Hashed password
          example: "$2a$10$N.zmdr9k7uOCQb376NoUnuTJ8iAt6Z5EHsM8lE9lBOsl7iKTVEFDi"
        email:
          type: string
          description: Email address
          example: "oss@neoss.com"
        fullName:
          type: string
          description: Full name
          example: "OSS Admin"
        role:
          type: string
          description: User role
          enum: [ADMIN, USER]
          example: "ADMIN"
        status:
          type: string
          description: User status
          enum: [ACTIVE, INACTIVE]
          example: "ACTIVE"
        createdAt:
          type: string
          format: date-time
          example: 2024-04-01T12:00:00Z
        lastLogin:
          type: string
          format: date-time
          nullable: true
          example: 2024-04-01T12:00:00Z
        updatedAt:
          type: string
          format: date-time
          example: 2024-04-01T12:00:00Z
    RAGDepartment:
      type: object
      required: [id, name, status, createdAt, lastUpdated]
      properties:
        id:
          type: integer
          format: int64
          description: Department ID
          example: 1
        name:
          type: string
          description: Department name
          example: "WM í˜„ì¥íŒ€"
        description:
          type: string
          description: Department description
          example: "WM í˜„ì¥ ì‘ì—… ë° ê´€ë¦¬"
        icon:
          type: string
          description: Department icon
          example: "ğŸ­"
        color:
          type: string
          description: Department color
          example: "blue"
        status:
          type: string
          description: Department status
          enum: [active, inactive]
          example: "active"
        keywords:
          type: array
          items:
            type: string
          description: Department keywords
          example: ["WM", "í˜„ì¥", "ì‘ì—…", "ê´€ë¦¬", "í”„ë¡œì„¸ìŠ¤"]
        createdAt:
          type: string
          format: date-time
          example: 2024-04-01T12:00:00Z
        lastUpdated:
          type: string
          format: date-time
          example: 2024-04-01T12:00:00Z
        monthlyQueries:
          type: integer
          description: Monthly queries count
          example: 245
    Agent:
      type: object
      required: [id, name, model, createdAt]
      properties:
        id:
          type: string
          description: Agent ID
          example: "01HZX4N3ABCD1234567XYZ893"
        name:
          type: string
          description: Agent name
          example: "default"
        model:
          type: string
          description: Model name
          example: "gpt-4o"
        description:
          type: string
          description: Agent description
          example: "ê¸°ë³¸ RAG ì—ì´ì „íŠ¸"
        createdAt:
          type: string
          format: date-time
          example: 2024-04-01T12:00:00Z
    ChatSessionRequest:
      type: object
      properties:
        userId:
          type: integer
          format: int64
          description: User ID
          example: 1
        title:
          type: string
          description: Session title
          example: "ìƒˆ ëŒ€í™”"
        departmentId:
          type: integer
          format: int64
          description: Department ID
          example: 1
        agentId:
          type: string
          description: Agent ID
          example: "01HZX4N3ABCD1234567XYZ893"
        llmModel:
          type: string
          description: LLM model
          example: "gpt-4o"
        status:
          type: string
          description: Session status
          example: "active"
        metadata:
          type: object
          description: Session metadata
          example: {"statistics": {"messageCount": 0}}
    ChatMessageRequest:
      type: object
      required: [sessionId, messageType, content]
      properties:
        sessionId:
          type: string
          format: uuid
          description: Session UUID
          example: 550e8400-e29b-41d4-a716-446655440000
        messageType:
          type: string
          description: Message type
          enum: [user, assistant, system]
          example: "user"
        content:
          type: string
          description: Message content
          example: "ì•ˆë…•í•˜ì„¸ìš”!"
        metadata:
          type: object
          description: Message metadata
          example: {"searchResults": [], "processingTime": 1.5}
        parentMessageId:
          type: string
          format: uuid
          description: Parent message UUID
          nullable: true
          example: null
    ChatMessageFeedbackRequest:
      type: object
      required: [messageId, rating]
      properties:
        messageId:
          type: string
          format: uuid
          description: Message UUID
          example: 550e8400-e29b-41d4-a716-446655440001
        userId:
          type: integer
          format: int64
          description: User ID
          nullable: true
          example: 1
        rating:
          type: integer
          minimum: 1
          maximum: 5
          description: Rating (1-5)
          example: 5
        comment:
          type: string
          description: User comment
          nullable: true
          example: "ë§¤ìš° ë„ì›€ì´ ë˜ì—ˆìŠµë‹ˆë‹¤!"
        feedbackType:
          type: string
          description: Feedback type
          enum: [general, accuracy, helpfulness, clarity]
          example: "general"
        isAnonymous:
          type: boolean
          description: Anonymous feedback
          example: true
        metadata:
          type: object
          description: Feedback metadata
          example: {"source": "web"}
    Conversation:
      type: object
      required: [id, sessionId, title, likes, liked, createdAt]
      properties:
        id:
          type: string
          description: ULID
          example: 01HZX4N3ABCD1234567XYZ892
        sessionId:
          type: string
          description: ULID
          example: 01HZX4N3ABCD1234567XYZ890
        title:
          type: string
          example: First conversation
        likes:
          type: integer
          example: 3
        liked:
          type: boolean
          example: true
        createdAt:
          type: string
          format: date-time
          example: 2024-04-01T12:00:00Z
    ConversationRequest:
      type: object
      required: [sessionId, title]
      properties:
        sessionId:
          type: string
          description: ULID
          example: 01HZX4N3ABCD1234567XYZ890
        title:
          type: string
          example: First conversation
    Agent:
      type: object
      required: [id, name, model, createdAt]
      properties:
        id:
          type: string
          description: ULID
          example: 01HZX4N3ABCD1234567XYZ893
        name:
          type: string
          example: default
        model:
          type: string
          example: gpt-4o
        description:
          type: string
          example: ê¸°ë³¸ RAG ì—ì´ì „íŠ¸
        createdAt:
          type: string
          format: date-time
          example: 2024-04-01T12:00:00Z
    AgentRequest:
      type: object
      required: [name, model]
      properties:
        name:
          type: string
          example: default
        model:
          type: string
          example: gpt-4o
        description:
          type: string
          example: ê¸°ë³¸ RAG ì—ì´ì „íŠ¸
    PageResponse_Session:
      type: object
      required: [total, page, size, items]
      properties:
        total:
          type: integer
          example: 1
        page:
          type: integer
          example: 0
        size:
          type: integer
          example: 20
        items:
          type: array
          items:
            $ref: '#/components/schemas/Session'
    PageResponse_Conversation:
      type: object
      required: [total, page, size, items]
      properties:
        total:
          type: integer
          example: 1
        page:
          type: integer
          example: 0
        size:
          type: integer
          example: 20
        items:
          type: array
          items:
            $ref: '#/components/schemas/Conversation'
    PageResponse_Agent:
      type: object
      required: [total, page, size, items]
      properties:
        total:
          type: integer
          example: 1
        page:
          type: integer
          example: 0
        size:
          type: integer
          example: 20
        items:
          type: array
          items:
            $ref: '#/components/schemas/Agent'
    ChatRequest:
      type: object
      required: [message]
      properties:
        message:
          type: string
          example: "Hello"
        stream:
          type: boolean
          default: true
    ChatNonStreamResponse:
      type: object
      properties:
        id:
          type: string
          example: "1712123123123"
        message:
          type: string
          example: ok
        content:
          type: string
          example: This is a non-streaming reply.
    ListResponse_Conversation:
      type: object
      properties:
        data:
          type: array
          items:
            $ref: '#/components/schemas/Conversation'
    DeleteResponse:
      type: object
      properties:
        deleted:
          type: boolean
          example: true
        id:
          type: string
          nullable: true
    AzureStatus:
      type: object
      properties:
        connected:
          type: boolean
        message:
          type: string
    SyncResponse:
      type: object
      properties:
        status:
          type: string
          example: queued
    HealthResponse:
      type: object
      properties:
        status:
          type: string
          example: ok
        time:
          type: string
          example: 2024-04-01T12:00:00Z
  responses:
    BadRequest:
      description: ì˜ëª»ëœ ìš”ì²­
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
    Unauthorized:
      description: ì¸ì¦ ì‹¤íŒ¨
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
    NotFound:
      description: ë¦¬ì†ŒìŠ¤ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŒ
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
    Conflict:
      description: ë¦¬ì†ŒìŠ¤ ì¶©ëŒ
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
    ServerError:
      description: ì„œë²„ ì˜¤ë¥˜
      content:
        application/json:
          schema:
            $ref: '#/components/schemas/ErrorResponse'
paths:
  /chat:
    post:
      summary: ì±„íŒ… ìš”ì²­ (SSE ë˜ëŠ” ì¼ë°˜ ì‘ë‹µ)
      security:
        - ApiKeyAuth: []
          BearerAuth: []
          BearerAuth: []
          BearerAuth: []
          BearerAuth: []
      description: stream=trueì¼ ë•Œ text/event-streamìœ¼ë¡œ ìŠ¤íŠ¸ë¦¬ë° ì‘ë‹µ(SSE)ì„ ë°˜í™˜í•©ë‹ˆë‹¤. ê° ì´ë²¤íŠ¸ëŠ” data: <json> ë˜ëŠ” [DONE] í˜•íƒœì…ë‹ˆë‹¤.
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ChatRequest'
      responses:
        '200':
          description: ì„±ê³µ
          content:
            text/event-stream:
              schema:
                type: string
                description: SSE ë°ì´í„° ìŠ¤íŠ¸ë¦¼ (data: ...)
            application/json:
              schema:
                $ref: '#/components/schemas/ChatNonStreamResponse'
        '400':
          $ref: '#/components/responses/BadRequest'
        '500':
          $ref: '#/components/responses/ServerError'
  /conversations:
    get:
      summary: ëŒ€í™” ëª©ë¡ ì¡°íšŒ (í”„ëŸ°íŠ¸ì—”ë“œ ìš©)
      security:
        - ApiKeyAuth: []
          BearerAuth: []
          BearerAuth: []
          BearerAuth: []
          BearerAuth: []
      responses:
        '200':
          description: ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/ListResponse_Conversation'
  /conversations/{conversationId}:
    delete:
      summary: ëŒ€í™” ì‚­ì œ (í”„ëŸ°íŠ¸ì—”ë“œ ìš©)
      security:
        - ApiKeyAuth: []
          BearerAuth: []
          BearerAuth: []
          BearerAuth: []
          BearerAuth: []
      parameters:
        - name: conversationId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: ì‚­ì œ ê²°ê³¼
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/DeleteResponse'
        '404':
          $ref: '#/components/responses/NotFound'
  /azure/connection-status:
    get:
      summary: Azure File Share ì—°ê²° ìƒíƒœ
      security:
        - ApiKeyAuth: []
          BearerAuth: []
      responses:
        '200':
          description: ìƒíƒœ ì •ë³´
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/AzureStatus'
  /azure/sync:
    post:
      summary: Azure File Share ë™ê¸°í™” ìš”ì²­
      security:
        - ApiKeyAuth: []
          BearerAuth: []
      responses:
        '200':
          description: ë™ê¸°í™” ì‹¤í–‰ ìƒíƒœ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/SyncResponse'
  /health:
    get:
      summary: í—¬ìŠ¤ ì²´í¬
      responses:
        '200':
          description: ì‹œìŠ¤í…œ ìƒíƒœ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HealthResponse'
  /sessions:
    get:
      summary: ì„¸ì…˜ ëª©ë¡ ì¡°íšŒ
      security:
        - ApiKeyAuth: []
      parameters:
        - $ref: '#/components/parameters/X-Request-Id'
        - name: page
          in: query
          schema:
            type: integer
            default: 0
        - name: size
          in: query
          schema:
            type: integer
            default: 20
        - name: sort
          in: query
          schema:
            type: string
            example: createdAt,desc
        - name: from
          in: query
          schema:
            type: string
            format: date-time
        - name: to
          in: query
          schema:
            type: string
            format: date-time
      responses:
        '200':
          description: ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PageResponse_Session'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/ServerError'
    post:
      summary: ì„¸ì…˜ ìƒì„±
      security:
        - ApiKeyAuth: []
      parameters:
        - $ref: '#/components/parameters/X-Request-Id'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SessionRequest'
      responses:
        '201':
          description: ìƒì„±ë¨
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Session'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '409':
          $ref: '#/components/responses/Conflict'
        '500':
          $ref: '#/components/responses/ServerError'
  /sessions/{sessionId}:
    get:
      summary: ì„¸ì…˜ ì¡°íšŒ
      security:
        - ApiKeyAuth: []
      parameters:
        - $ref: '#/components/parameters/X-Request-Id'
        - name: sessionId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Session'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'
    put:
      summary: ì„¸ì…˜ ìˆ˜ì •
      security:
        - ApiKeyAuth: []
      parameters:
        - $ref: '#/components/parameters/X-Request-Id'
        - name: sessionId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/SessionRequest'
      responses:
        '200':
          description: ìˆ˜ì •ë¨
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Session'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
        '500':
          $ref: '#/components/responses/ServerError'
    delete:
      summary: ì„¸ì…˜ ì‚­ì œ
      security:
        - ApiKeyAuth: []
      parameters:
        - $ref: '#/components/parameters/X-Request-Id'
        - name: sessionId
          in: path
          required: true
          schema:
            type: string
      responses:
        '204':
          description: ì‚­ì œë¨
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'
  /conversations:
    get:
      summary: ëŒ€í™” ëª©ë¡ ì¡°íšŒ
      security:
        - ApiKeyAuth: []
      parameters:
        - $ref: '#/components/parameters/X-Request-Id'
        - name: page
          in: query
          schema:
            type: integer
            default: 0
        - name: size
          in: query
          schema:
            type: integer
            default: 20
      responses:
        '200':
          description: ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PageResponse_Conversation'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/ServerError'
    post:
      summary: ëŒ€í™” ìƒì„±
      security:
        - ApiKeyAuth: []
      parameters:
        - $ref: '#/components/parameters/X-Request-Id'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConversationRequest'
      responses:
        '201':
          description: ìƒì„±ë¨
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Conversation'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '409':
          $ref: '#/components/responses/Conflict'
        '500':
          $ref: '#/components/responses/ServerError'
  /conversations/{conversationId}:
    get:
      summary: ëŒ€í™” ì¡°íšŒ
      security:
        - ApiKeyAuth: []
      parameters:
        - $ref: '#/components/parameters/X-Request-Id'
        - name: conversationId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Conversation'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'
    put:
      summary: ëŒ€í™” ìˆ˜ì •
      security:
        - ApiKeyAuth: []
      parameters:
        - $ref: '#/components/parameters/X-Request-Id'
        - name: conversationId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/ConversationRequest'
      responses:
        '200':
          description: ìˆ˜ì •ë¨
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Conversation'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
        '500':
          $ref: '#/components/responses/ServerError'
    delete:
      summary: ëŒ€í™” ì‚­ì œ
      security:
        - ApiKeyAuth: []
      parameters:
        - $ref: '#/components/parameters/X-Request-Id'
        - name: conversationId
          in: path
          required: true
          schema:
            type: string
      responses:
        '204':
          description: ì‚­ì œë¨
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'
  /conversations/{conversationId}/likes:
    post:
      summary: ëŒ€í™” ì¢‹ì•„ìš” í† ê¸€
      security:
        - ApiKeyAuth: []
      parameters:
        - $ref: '#/components/parameters/X-Request-Id'
        - name: conversationId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Conversation'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'
  /agents:
    get:
      summary: ì—ì´ì „íŠ¸ ëª©ë¡ ì¡°íšŒ
      security:
        - ApiKeyAuth: []
      parameters:
        - $ref: '#/components/parameters/X-Request-Id'
        - name: page
          in: query
          schema:
            type: integer
            default: 0
        - name: size
          in: query
          schema:
            type: integer
            default: 20
      responses:
        '200':
          description: ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PageResponse_Agent'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '500':
          $ref: '#/components/responses/ServerError'
    post:
      summary: ì—ì´ì „íŠ¸ ìƒì„±
      security:
        - ApiKeyAuth: []
      parameters:
        - $ref: '#/components/parameters/X-Request-Id'
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AgentRequest'
      responses:
        '201':
          description: ìƒì„±ë¨
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Agent'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '409':
          $ref: '#/components/responses/Conflict'
        '500':
          $ref: '#/components/responses/ServerError'
  /agents/{agentId}:
    get:
      summary: ì—ì´ì „íŠ¸ ì¡°íšŒ
      security:
        - ApiKeyAuth: []
      parameters:
        - $ref: '#/components/parameters/X-Request-Id'
        - name: agentId
          in: path
          required: true
          schema:
            type: string
      responses:
        '200':
          description: ì„±ê³µ
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Agent'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'
    put:
      summary: ì—ì´ì „íŠ¸ ìˆ˜ì •
      security:
        - ApiKeyAuth: []
      parameters:
        - $ref: '#/components/parameters/X-Request-Id'
        - name: agentId
          in: path
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/AgentRequest'
      responses:
        '200':
          description: ìˆ˜ì •ë¨
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Agent'
        '400':
          $ref: '#/components/responses/BadRequest'
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '409':
          $ref: '#/components/responses/Conflict'
        '500':
          $ref: '#/components/responses/ServerError'
    delete:
      summary: ì—ì´ì „íŠ¸ ì‚­ì œ
      security:
        - ApiKeyAuth: []
      parameters:
        - $ref: '#/components/parameters/X-Request-Id'
        - name: agentId
          in: path
          required: true
          schema:
            type: string
      responses:
        '204':
          description: ì‚­ì œë¨
        '401':
          $ref: '#/components/responses/Unauthorized'
        '404':
          $ref: '#/components/responses/NotFound'
        '500':
          $ref: '#/components/responses/ServerError'
